{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/ui/src/providers/theme-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\ntype Theme = \"light\" | \"dark\" | \"system\";\n\nexport interface ThemeProviderProps {\n  children: React.ReactNode;\n  attribute?: \"class\" | \"data-theme\";\n  defaultTheme?: Theme;\n  enableSystem?: boolean;\n  disableTransitionOnChange?: boolean;\n  storageKey?: string;\n}\n\ninterface ThemeContextValue {\n  theme: Theme;\n  resolvedTheme: \"light\" | \"dark\";\n  setTheme: (theme: Theme) => void;\n}\n\nconst ThemeContext = React.createContext<ThemeContextValue | undefined>(undefined);\n\nconst DEFAULT_STORAGE_KEY = \"bitflow-theme\";\n\nconst getSystemTheme = () => (window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\");\n\nconst disableTransitionsTemporarily = (shouldDisable: boolean) => {\n  if (!shouldDisable) {\n    return;\n  }\n\n  const style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(\"* { transition: none !important; }\"));\n  document.head.appendChild(style);\n\n  queueMicrotask(() => {\n    document.head.removeChild(style);\n  });\n};\n\nexport function ThemeProvider({\n  children,\n  attribute = \"class\",\n  defaultTheme = \"system\",\n  enableSystem = true,\n  disableTransitionOnChange = false,\n  storageKey = DEFAULT_STORAGE_KEY\n}: ThemeProviderProps) {\n  const [theme, setThemeState] = React.useState<Theme>(() => defaultTheme);\n  const [mounted, setMounted] = React.useState(false);\n\n  const applyTheme = React.useCallback(\n    (value: Theme) => {\n      const root = document.documentElement;\n      const resolved = value === \"system\" && enableSystem ? getSystemTheme() : value;\n\n      disableTransitionsTemporarily(disableTransitionOnChange);\n\n      if (attribute === \"class\") {\n        root.classList.remove(\"light\", \"dark\");\n        root.classList.add(resolved);\n      } else {\n        root.setAttribute(attribute, resolved);\n      }\n    },\n    [attribute, disableTransitionOnChange, enableSystem]\n  );\n\n  const setTheme = React.useCallback(\n    (value: Theme) => {\n      setThemeState(value);\n\n      if (typeof window !== \"undefined\") {\n        try {\n          localStorage.setItem(storageKey, value);\n        } catch (error) {\n          console.warn(\"Unable to persist theme preference\", error);\n        }\n      }\n    },\n    [storageKey]\n  );\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    const savedTheme = ((): Theme | null => {\n      try {\n        const entry = localStorage.getItem(storageKey);\n        return entry === \"light\" || entry === \"dark\" || entry === \"system\" ? entry : null;\n      } catch (error) {\n        console.warn(\"Unable to read theme preference\", error);\n        return null;\n      }\n    })();\n\n    const initialTheme = savedTheme ?? defaultTheme;\n    setThemeState(initialTheme);\n    applyTheme(initialTheme);\n    setMounted(true);\n\n    if (!enableSystem) {\n      return;\n    }\n\n    const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const handleChange = () => {\n      setThemeState((current) => {\n        if (current !== \"system\") {\n          return current;\n        }\n\n        applyTheme(\"system\");\n        return current;\n      });\n    };\n\n    mediaQuery.addEventListener(\"change\", handleChange);\n    return () => mediaQuery.removeEventListener(\"change\", handleChange);\n  }, [applyTheme, defaultTheme, enableSystem, storageKey]);\n\n  React.useEffect(() => {\n    if (!mounted) {\n      return;\n    }\n\n    applyTheme(theme);\n  }, [applyTheme, mounted, theme]);\n\n  const resolvedTheme = React.useMemo<\"light\" | \"dark\">(() => {\n    if (theme === \"system\" && typeof window !== \"undefined\" && enableSystem) {\n      return getSystemTheme();\n    }\n\n    return theme === \"dark\" ? \"dark\" : \"light\";\n  }, [enableSystem, theme]);\n\n  const value = React.useMemo<ThemeContextValue>(() => ({ theme, resolvedTheme, setTheme }), [resolvedTheme, setTheme, theme]);\n\n  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;\n}\n\nexport function useTheme(): ThemeContextValue {\n  const context = React.useContext(ThemeContext);\n\n  if (!context) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n\n  return context;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/api-client/src/auth.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError } from 'axios';\n\n// Types\nexport type PortalType = 'super-admin' | 'college-admin' | 'faculty' | 'student' | 'parent';\n\nexport interface User {\n  id: number;\n  email: string;\n  first_name: string;\n  last_name: string;\n  role: string;\n  portal: PortalType;\n  avatar?: string;\n  college_id?: number;\n  college_name?: string;\n}\n\nexport interface LoginCredentials {\n  email: string;\n  password: string;\n  portal: PortalType;\n}\n\nexport interface AuthResponse {\n  user: User;\n  access_token: string;\n  refresh_token: string;\n  expires_in: number; // seconds\n}\n\nexport interface PasswordResetRequest {\n  email: string;\n  portal: PortalType;\n}\n\nexport interface PasswordResetConfirm {\n  token: string;\n  new_password: string;\n  confirm_password: string;\n}\n\n// Token storage\nconst TOKEN_KEY = 'access_token';\nconst REFRESH_TOKEN_KEY = 'refresh_token';\nconst USER_KEY = 'user';\n\nexport class TokenStorage {\n  static getAccessToken(): string | null {\n    if (typeof window === 'undefined') return null;\n    return localStorage.getItem(TOKEN_KEY);\n  }\n\n  static setAccessToken(token: string): void {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem(TOKEN_KEY, token);\n  }\n\n  static getRefreshToken(): string | null {\n    if (typeof window === 'undefined') return null;\n    return localStorage.getItem(REFRESH_TOKEN_KEY);\n  }\n\n  static setRefreshToken(token: string): void {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem(REFRESH_TOKEN_KEY, token);\n  }\n\n  static getUser(): User | null {\n    if (typeof window === 'undefined') return null;\n    const userStr = localStorage.getItem(USER_KEY);\n    return userStr ? JSON.parse(userStr) : null;\n  }\n\n  static setUser(user: User): void {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem(USER_KEY, JSON.stringify(user));\n  }\n\n  static clearAll(): void {\n    if (typeof window === 'undefined') return;\n    localStorage.removeItem(TOKEN_KEY);\n    localStorage.removeItem(REFRESH_TOKEN_KEY);\n    localStorage.removeItem(USER_KEY);\n  }\n}\n\n// Create axios instance with base configuration\nconst createAuthAxios = (): AxiosInstance => {\n  const instance = axios.create({\n    baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api',\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n\n  // Request interceptor - Add token to all requests\n  instance.interceptors.request.use(\n    (config) => {\n      const token = TokenStorage.getAccessToken();\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    },\n    (error) => Promise.reject(error)\n  );\n\n  // Response interceptor - Handle token refresh\n  instance.interceptors.response.use(\n    (response) => response,\n    async (error: AxiosError) => {\n      const originalRequest = error.config as any;\n\n      // If 401 and not already retried, try to refresh token\n      if (error.response?.status === 401 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        try {\n          const refreshToken = TokenStorage.getRefreshToken();\n          if (!refreshToken) {\n            throw new Error('No refresh token');\n          }\n\n          const { data } = await axios.post<AuthResponse>(\n            `${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api'}/auth/refresh`,\n            { refresh_token: refreshToken }\n          );\n\n          // Update tokens\n          TokenStorage.setAccessToken(data.access_token);\n          TokenStorage.setRefreshToken(data.refresh_token);\n          TokenStorage.setUser(data.user);\n\n          // Retry original request with new token\n          originalRequest.headers.Authorization = `Bearer ${data.access_token}`;\n          return instance(originalRequest);\n        } catch (refreshError) {\n          // Refresh failed, clear everything and redirect to login\n          TokenStorage.clearAll();\n          if (typeof window !== 'undefined') {\n            window.location.href = '/login';\n          }\n          return Promise.reject(refreshError);\n        }\n      }\n\n      return Promise.reject(error);\n    }\n  );\n\n  return instance;\n};\n\nconst authAxios = createAuthAxios();\n\n// Auth API functions\nexport const authApi = {\n  /**\n   * Login user\n   * @param credentials - Email, password, and portal type\n   * @returns User data and tokens\n   */\n  login: async (credentials: LoginCredentials): Promise<AuthResponse> => {\n    const response = await axios.post<AuthResponse>(\n      `${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api'}/auth/login`,\n      credentials\n    );\n\n    // Store tokens and user\n    TokenStorage.setAccessToken(response.data.access_token);\n    TokenStorage.setRefreshToken(response.data.refresh_token);\n    TokenStorage.setUser(response.data.user);\n\n    return response.data;\n  },\n\n  /**\n   * Logout current user\n   */\n  logout: async (): Promise<void> => {\n    try {\n      await authAxios.post('/auth/logout');\n    } catch (error) {\n      // Even if API call fails, clear local storage\n      console.error('Logout error:', error);\n    } finally {\n      TokenStorage.clearAll();\n    }\n  },\n\n  /**\n   * Refresh access token\n   * @param refreshToken - Refresh token\n   * @returns New tokens and user data\n   */\n  refresh: async (refreshToken: string): Promise<AuthResponse> => {\n    const response = await axios.post<AuthResponse>(\n      `${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api'}/auth/refresh`,\n      { refresh_token: refreshToken }\n    );\n\n    // Update stored tokens\n    TokenStorage.setAccessToken(response.data.access_token);\n    TokenStorage.setRefreshToken(response.data.refresh_token);\n    TokenStorage.setUser(response.data.user);\n\n    return response.data;\n  },\n\n  /**\n   * Get current user info\n   * @returns Current user data\n   */\n  me: async (): Promise<User> => {\n    const response = await authAxios.get<User>('/auth/me');\n    TokenStorage.setUser(response.data);\n    return response.data;\n  },\n\n  /**\n   * Request password reset link\n   * @param request - Email and portal type\n   */\n  requestPasswordReset: async (request: PasswordResetRequest): Promise<void> => {\n    await axios.post('/auth/password/reset-link', request);\n  },\n\n  /**\n   * Reset password with token\n   * @param data - Reset token and new password\n   */\n  resetPassword: async (data: PasswordResetConfirm): Promise<void> => {\n    await axios.post('/auth/password/reset', data);\n  },\n\n  /**\n   * Change password for logged-in user\n   * @param currentPassword - Current password\n   * @param newPassword - New password\n   */\n  changePassword: async (currentPassword: string, newPassword: string): Promise<void> => {\n    await authAxios.post('/auth/password/change', {\n      current_password: currentPassword,\n      new_password: newPassword,\n    });\n  },\n\n  /**\n   * Verify if current session is valid\n   * @returns True if authenticated\n   */\n  verifySession: async (): Promise<boolean> => {\n    try {\n      await authAxios.get('/auth/verify');\n      return true;\n    } catch {\n      return false;\n    }\n  },\n};\n\nexport default authAxios;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/ui/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, useCallback, ReactNode } from 'react';\nimport { auth } from '@bitflow/api-client';\n\nconst { authApi, TokenStorage } = auth;\ntype User = auth.User;\ntype LoginCredentials = auth.LoginCredentials;\ntype PortalType = auth.PortalType;\n\ninterface AuthContextType {\n  user: User | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  login: (credentials: LoginCredentials) => Promise<void>;\n  logout: () => Promise<void>;\n  checkAuth: () => Promise<void>;\n  hasRole: (allowedRoles: string[]) => boolean;\n  hasPortalAccess: (allowedPortals: PortalType[]) => boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check authentication status on mount\n  const checkAuth = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      \n      // Check if we have tokens\n      const token = TokenStorage.getAccessToken();\n      const storedUser = TokenStorage.getUser();\n\n      if (!token || !storedUser) {\n        setUser(null);\n        return;\n      }\n\n      // Verify session with backend\n      const isValid = await authApi.verifySession();\n      \n      if (isValid) {\n        // Get fresh user data\n        const userData = await authApi.me();\n        setUser(userData);\n      } else {\n        // Session invalid, clear everything\n        TokenStorage.clearAll();\n        setUser(null);\n      }\n    } catch (error) {\n      console.error('Auth check failed:', error);\n      TokenStorage.clearAll();\n      setUser(null);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Login function\n  const login = useCallback(async (credentials: LoginCredentials) => {\n    try {\n      setIsLoading(true);\n      const response = await authApi.login(credentials);\n      setUser(response.user);\n      \n      // Redirect based on portal\n      if (typeof window !== 'undefined') {\n        const portalRoutes: Record<PortalType, string> = {\n          'super-admin': '/dashboard',\n          'college-admin': '/dashboard',\n          'faculty': '/dashboard',\n          'student': '/dashboard',\n          'parent': '/dashboard',\n        };\n        window.location.href = portalRoutes[credentials.portal] || '/dashboard';\n      }\n    } catch (error: any) {\n      console.error('Login failed:', error);\n      throw new Error(error.response?.data?.message || 'Login failed. Please check your credentials.');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Logout function\n  const logout = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      await authApi.logout();\n      setUser(null);\n      \n      // Redirect to login\n      if (typeof window !== 'undefined') {\n        window.location.href = '/login';\n      }\n    } catch (error) {\n      console.error('Logout failed:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Check if user has required role\n  const hasRole = useCallback(\n    (allowedRoles: string[]): boolean => {\n      if (!user) return false;\n      return allowedRoles.includes(user.role);\n    },\n    [user]\n  );\n\n  // Check if user has access to portal\n  const hasPortalAccess = useCallback(\n    (allowedPortals: PortalType[]): boolean => {\n      if (!user) return false;\n      return allowedPortals.includes(user.portal);\n    },\n    [user]\n  );\n\n  // Check auth on mount\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // Auto-refresh token before expiry\n  useEffect(() => {\n    if (!user) return;\n\n    // Refresh token every 50 minutes (assuming 60 min expiry)\n    const refreshInterval = setInterval(\n      async () => {\n        try {\n          const refreshToken = TokenStorage.getRefreshToken();\n          if (refreshToken) {\n            const response = await authApi.refresh(refreshToken);\n            setUser(response.user);\n          }\n        } catch (error) {\n          console.error('Token refresh failed:', error);\n          await logout();\n        }\n      },\n      50 * 60 * 1000\n    ); // 50 minutes\n\n    return () => clearInterval(refreshInterval);\n  }, [user, logout]);\n\n  const value: AuthContextType = {\n    user,\n    isAuthenticated: !!user,\n    isLoading,\n    login,\n    logout,\n    checkAuth,\n    hasRole,\n    hasPortalAccess,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\n// Hook to use auth context\nexport function useAuth(): AuthContextType {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,mLAAI;AAgBtC,MAAM,4BAAc,IAAA,0XAAa,EAA8B;AAMxD,SAAS,aAAa,EAAE,QAAQ,EAAqB;;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qXAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qXAAQ,EAAC;IAE3C,uCAAuC;IACvC,MAAM,YAAY,IAAA,wXAAW;+CAAC;YAC5B,IAAI;gBACF,aAAa;gBAEb,0BAA0B;gBAC1B,MAAM,QAAQ,aAAa,cAAc;gBACzC,MAAM,aAAa,aAAa,OAAO;gBAEvC,IAAI,CAAC,SAAS,CAAC,YAAY;oBACzB,QAAQ;oBACR;gBACF;gBAEA,8BAA8B;gBAC9B,MAAM,UAAU,MAAM,QAAQ,aAAa;gBAE3C,IAAI,SAAS;oBACX,sBAAsB;oBACtB,MAAM,WAAW,MAAM,QAAQ,EAAE;oBACjC,QAAQ;gBACV,OAAO;oBACL,oCAAoC;oBACpC,aAAa,QAAQ;oBACrB,QAAQ;gBACV;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,sBAAsB;gBACpC,aAAa,QAAQ;gBACrB,QAAQ;YACV,SAAU;gBACR,aAAa;YACf;QACF;8CAAG,EAAE;IAEL,iBAAiB;IACjB,MAAM,QAAQ,IAAA,wXAAW;2CAAC,OAAO;YAC/B,IAAI;gBACF,aAAa;gBACb,MAAM,WAAW,MAAM,QAAQ,KAAK,CAAC;gBACrC,QAAQ,SAAS,IAAI;gBAErB,2BAA2B;gBAC3B,wCAAmC;oBACjC,MAAM,eAA2C;wBAC/C,eAAe;wBACf,iBAAiB;wBACjB,WAAW;wBACX,WAAW;wBACX,UAAU;oBACZ;oBACA,OAAO,QAAQ,CAAC,IAAI,GAAG,YAAY,CAAC,YAAY,MAAM,CAAC,IAAI;gBAC7D;YACF,EAAE,OAAO,OAAY;gBACnB,QAAQ,KAAK,CAAC,iBAAiB;gBAC/B,MAAM,IAAI,MAAM,MAAM,QAAQ,EAAE,MAAM,WAAW;YACnD,SAAU;gBACR,aAAa;YACf;QACF;0CAAG,EAAE;IAEL,kBAAkB;IAClB,MAAM,SAAS,IAAA,wXAAW;4CAAC;YACzB,IAAI;gBACF,aAAa;gBACb,MAAM,QAAQ,MAAM;gBACpB,QAAQ;gBAER,oBAAoB;gBACpB,wCAAmC;oBACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACzB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,kBAAkB;YAClC,SAAU;gBACR,aAAa;YACf;QACF;2CAAG,EAAE;IAEL,kCAAkC;IAClC,MAAM,UAAU,IAAA,wXAAW;6CACzB,CAAC;YACC,IAAI,CAAC,MAAM,OAAO;YAClB,OAAO,aAAa,QAAQ,CAAC,KAAK,IAAI;QACxC;4CACA;QAAC;KAAK;IAGR,qCAAqC;IACrC,MAAM,kBAAkB,IAAA,wXAAW;qDACjC,CAAC;YACC,IAAI,CAAC,MAAM,OAAO;YAClB,OAAO,eAAe,QAAQ,CAAC,KAAK,MAAM;QAC5C;oDACA;QAAC;KAAK;IAGR,sBAAsB;IACtB,IAAA,sXAAS;kCAAC;YACR;QACF;iCAAG;QAAC;KAAU;IAEd,mCAAmC;IACnC,IAAA,sXAAS;kCAAC;YACR,IAAI,CAAC,MAAM;YAEX,0DAA0D;YAC1D,MAAM,kBAAkB;0DACtB;oBACE,IAAI;wBACF,MAAM,eAAe,aAAa,eAAe;wBACjD,IAAI,cAAc;4BAChB,MAAM,WAAW,MAAM,QAAQ,OAAO,CAAC;4BACvC,QAAQ,SAAS,IAAI;wBACvB;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;wBACvC,MAAM;oBACR;gBACF;yDACA,KAAK,KAAK,OACT,aAAa;YAEhB;0CAAO,IAAM,cAAc;;QAC7B;iCAAG;QAAC;QAAM;KAAO;IAEjB,MAAM,QAAyB;QAC7B;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,yYAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GA9IgB;KAAA;AAiJT,SAAS;;IACd,MAAM,UAAU,IAAA,uXAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/apps/admin/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { ReactNode, useState } from \"react\";\n\nconst createClient = () =>\n  new QueryClient({\n    defaultOptions: {\n      queries: {\n        staleTime: 30_000,\n        refetchOnWindowFocus: false,\n      },\n    },\n  });\n\ntype QueryProviderProps = {\n  children: ReactNode;\n};\n\nexport function QueryProvider({ children }: QueryProviderProps) {\n  const [client] = useState(createClient);\n  return <QueryClientProvider client={client}>{children}</QueryClientProvider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;AAHA;;;AAKA,MAAM,eAAe,IACnB,IAAI,wQAAW,CAAC;QACd,gBAAgB;YACd,SAAS;gBACP,WAAW;gBACX,sBAAsB;YACxB;QACF;IACF;AAMK,SAAS,cAAc,EAAE,QAAQ,EAAsB;;IAC5D,MAAM,CAAC,OAAO,GAAG,IAAA,qXAAQ,EAAC;IAC1B,qBAAO,yYAAC,kVAAmB;QAAC,QAAQ;kBAAS;;;;;;AAC/C;GAHgB;KAAA","debugId":null}},
    {"offset": {"line": 622, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/ui/src/lib/utils.ts"],"sourcesContent":["/**\n * Utility Functions\n * \n * Helper functions for the UI library\n */\n\nimport { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Merges Tailwind CSS classes with proper precedence\n * Combines clsx and tailwind-merge for optimal class handling\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;AACA;;;AAMO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 644, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/ui/src/lib/cn.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/ui/src/components/badge.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"../lib/cn\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        outline: \"border-border bg-transparent text-foreground hover:bg-accent\",\n        success: \"border-transparent bg-green-500 text-white hover:bg-green-600\",\n        warning: \"border-transparent bg-yellow-500 text-white hover:bg-yellow-600\",\n        error: \"border-transparent bg-red-500 text-white hover:bg-red-600\",\n        info: \"border-transparent bg-blue-500 text-white hover:bg-blue-600\",\n      },\n      size: {\n        sm: \"px-2 py-0.5 text-xs\",\n        md: \"px-2.5 py-0.5 text-sm\",\n        lg: \"px-3 py-1 text-base\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"md\",\n    },\n  }\n);\n\nexport interface BadgeProps \n  extends React.HTMLAttributes<HTMLDivElement>, \n    VariantProps<typeof badgeVariants> {\n  removable?: boolean;\n  onRemove?: () => void;\n  icon?: React.ReactNode;\n}\n\nconst Badge = React.forwardRef<HTMLDivElement, BadgeProps>(\n  ({ className, variant, size, removable, onRemove, icon, children, ...props }, ref) => (\n    <div \n      ref={ref} \n      className={cn(badgeVariants({ variant, size }), className)} \n      {...props}\n    >\n      {icon && <span className=\"mr-1\">{icon}</span>}\n      {children}\n      {removable && onRemove && (\n        <button\n          type=\"button\"\n          onClick={(e) => {\n            e.stopPropagation();\n            onRemove();\n          }}\n          className=\"ml-1.5 hover:bg-black/10 rounded-full p-0.5 transition-colors\"\n          aria-label=\"Remove\"\n        >\n          <svg\n            className=\"w-3 h-3\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M6 18L18 6M6 6l12 12\"\n            />\n          </svg>\n        </button>\n      )}\n    </div>\n  )\n);\nBadge.displayName = \"Badge\";\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,kJACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,SAAS;YACT,SAAS;YACT,SAAS;YACT,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAWF,MAAM,sBAAQ,uXAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAC5E,yYAAC;QACC,KAAK;QACL,WAAW,IAAA,2IAAE,EAAC,cAAc;YAAE;YAAS;QAAK,IAAI;QAC/C,GAAG,KAAK;;YAER,sBAAQ,yYAAC;gBAAK,WAAU;0BAAQ;;;;;;YAChC;YACA,aAAa,0BACZ,yYAAC;gBACC,MAAK;gBACL,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB;gBACF;gBACA,WAAU;gBACV,cAAW;0BAEX,cAAA,yYAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,yYAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;AAQhB,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 768, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/ui/src/components/Button.tsx"],"sourcesContent":["/**\n * Button Component\n * \n * Based on the glassmorphic design with modern styling\n * Supports multiple variants and sizes\n */\n\nimport { ButtonHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '../lib/utils';\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost' | 'glass';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      variant = 'primary',\n      size = 'md',\n      isLoading = false,\n      leftIcon,\n      rightIcon,\n      children,\n      className,\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          'inline-flex items-center justify-center font-semibold rounded-full transition-all duration-300',\n          'focus:outline-none focus:ring-2 focus:ring-offset-2',\n          'disabled:opacity-50 disabled:cursor-not-allowed',\n          {\n            // Primary variant (matches LOGIN button in design)\n            'bg-gradient-to-r from-teal-500 to-cyan-600 text-white hover:from-teal-600 hover:to-cyan-700':\n              variant === 'primary',\n            'shadow-lg hover:shadow-xl focus:ring-teal-500': variant === 'primary',\n\n            // Glass variant (glassmorphic style)\n            'bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 shadow-lg hover:shadow-xl':\n              variant === 'glass',\n\n            // Secondary variant\n            'bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600':\n              variant === 'secondary',\n\n            // Danger variant\n            'bg-red-600 text-white hover:bg-red-700': variant === 'danger',\n            'focus:ring-red-500': variant === 'danger',\n\n            // Ghost variant\n            'bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800':\n              variant === 'ghost',\n            'text-gray-700 dark:text-gray-300': variant === 'ghost',\n\n            // Sizes\n            'px-4 py-2 text-sm': size === 'sm',\n            'px-6 py-3 text-base': size === 'md',\n            'px-8 py-4 text-lg': size === 'lg',\n          },\n          className\n        )}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading && (\n          <svg\n            className=\"animate-spin -ml-1 mr-2 h-4 w-4\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            />\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            />\n          </svg>\n        )}\n        {leftIcon && <span className=\"mr-2\">{leftIcon}</span>}\n        {children}\n        {rightIcon && <span className=\"ml-2\">{rightIcon}</span>}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;AAED;AACA;;;;AAUO,MAAM,uBAAS,IAAA,uXAAU,OAC9B,CACE,EACE,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,YAAY,KAAK,EACjB,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,GAAG,OACJ,EACD;IAEA,qBACE,yYAAC;QACC,KAAK;QACL,WAAW,IAAA,8IAAE,EACX,kGACA,uDACA,mDACA;YACE,mDAAmD;YACnD,+FACE,YAAY;YACd,iDAAiD,YAAY;YAE7D,qCAAqC;YACrC,8GACE,YAAY;YAEd,oBAAoB;YACpB,0GACE,YAAY;YAEd,iBAAiB;YACjB,0CAA0C,YAAY;YACtD,sBAAsB,YAAY;YAElC,gBAAgB;YAChB,2DACE,YAAY;YACd,oCAAoC,YAAY;YAEhD,QAAQ;YACR,qBAAqB,SAAS;YAC9B,uBAAuB,SAAS;YAChC,qBAAqB,SAAS;QAChC,GACA;QAEF,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,2BACC,yYAAC;gBACC,WAAU;gBACV,OAAM;gBACN,MAAK;gBACL,SAAQ;;kCAER,yYAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;;;;;;kCAEd,yYAAC;wBACC,WAAU;wBACV,MAAK;wBACL,GAAE;;;;;;;;;;;;YAIP,0BAAY,yYAAC;gBAAK,WAAU;0BAAQ;;;;;;YACpC;YACA,2BAAa,yYAAC;gBAAK,WAAU;0BAAQ;;;;;;;;;;;;AAG5C;;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 877, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/packages/ui/src/components/separator.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"../lib/cn\";\n\nexport interface SeparatorProps extends React.HTMLAttributes<HTMLDivElement> {\n  orientation?: \"horizontal\" | \"vertical\";\n  decorative?: boolean;\n}\n\nexport function Separator({ className, orientation = \"horizontal\", decorative = true, role, ...props }: SeparatorProps) {\n  return (\n    <div\n      role={decorative ? \"presentation\" : role ?? \"separator\"}\n      aria-orientation={orientation}\n      className={cn(\n        \"bg-border\",\n        orientation === \"horizontal\" ? \"h-px w-full\" : \"h-full w-px\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAOO,SAAS,UAAU,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,IAAI,EAAE,GAAG,OAAuB;IACpH,qBACE,yYAAC;QACC,MAAM,aAAa,iBAAiB,QAAQ;QAC5C,oBAAkB;QAClB,WAAW,IAAA,2IAAE,EACX,aACA,gBAAgB,eAAe,gBAAgB,eAC/C;QAED,GAAG,KAAK;;;;;;AAGf;KAbgB","debugId":null}},
    {"offset": {"line": 907, "column": 0}, "map": {"version":3,"sources":["file:///home/envisage/Downloads/BitFlow_LMS/edu-bit-lms/bitflow-frontend/apps/admin/components/app-shell.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { ReactNode } from \"react\";\nimport { cn, Badge, Button } from \"@bitflow/ui\";\nimport { Separator } from \"@bitflow/ui\";\n\nconst sections = [\n  {\n    title: \"Operations\",\n    items: [\n      { href: \"/dashboard\", label: \"Dashboard\" },\n      { href: \"/universities\", label: \"Universities\" },\n      { href: \"/feature-toggles\", label: \"Feature toggles\", badge: \"Live\" },\n      { href: \"/change-requests\", label: \"Change requests\" },\n    ],\n  },\n  {\n    title: \"Academic\",\n    items: [\n      { href: \"/timetable/builder\", label: \"Timetable Builder\", badge: \"New\" },\n      { href: \"/students/bulk-upload\", label: \"Bulk Student Upload\", badge: \"New\" },\n      { href: \"/assessments/create\", label: \"Assessment Builder\", badge: \"New\" },\n      { href: \"/assessments/1/grade\", label: \"Grading Interface\", badge: \"New\" },\n      { href: \"/analytics\", label: \"Analytics Dashboard\", badge: \"New\" },\n    ],\n  },\n  {\n    title: \"Finance\",\n    items: [\n      { href: \"/billing\", label: \"Billing\" },\n      { href: \"/invoices\", label: \"Invoices\" },\n    ],\n  },\n  {\n    title: \"Governance\",\n    items: [\n      { href: \"/audit-log\", label: \"Audit log\" },\n      { href: \"/backups\", label: \"Backups\" },\n    ],\n  },\n];\n\ntype AppShellProps = {\n  children: ReactNode;\n};\n\nexport function AppShell({ children }: AppShellProps) {\n  const pathname = usePathname();\n\n  // Don't render app shell for auth pages\n  const isAuthPage = pathname?.startsWith('/login') || pathname?.startsWith('/register');\n  \n  if (isAuthPage) {\n    return <>{children}</>;\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-muted/20\">\n      <aside className=\"hidden w-72 shrink-0 border-r border-border bg-surface lg:flex lg:flex-col\">\n        <div className=\"flex items-center justify-between gap-3 px-6 py-5\">\n          <div>\n            <span className=\"text-xs uppercase tracking-wide text-muted-foreground\">Bitflow Nova</span>\n            <p className=\"text-lg font-semibold\">Central Operations</p>\n          </div>\n          <Badge variant=\"outline\">v0.1</Badge>\n        </div>\n        <Separator />\n        <nav className=\"flex-1 space-y-8 px-6 py-6\">\n          {sections.map((section) => (\n            <div key={section.title} className=\"space-y-3\">\n              <p className=\"text-xs font-medium uppercase tracking-wide text-muted-foreground\">\n                {section.title}\n              </p>\n              <ul className=\"space-y-1\">\n                {section.items.map((item) => {\n                  const active = pathname === item.href;\n                  return (\n                    <li key={item.href}>\n                      <Link\n                        href={item.href}\n                        className={cn(\n                          \"flex items-center justify-between rounded-md px-3 py-2 text-sm transition-colors\",\n                          active\n                            ? \"bg-primary/10 font-medium text-primary\"\n                            : \"text-muted-foreground hover:bg-muted hover:text-foreground\"\n                        )}\n                      >\n                        <span>{item.label}</span>\n                        {item.badge ? <Badge variant=\"secondary\">{item.badge}</Badge> : null}\n                      </Link>\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          ))}\n        </nav>\n        <div className=\"px-6 pb-6\">\n          <Button className=\"w-full\" variant=\"secondary\">\n            Switch tenant\n          </Button>\n        </div>\n      </aside>\n      <div className=\"flex flex-1 flex-col\">\n        <header className=\"flex h-16 items-center justify-between border-b border-border bg-surface/95 px-6\">\n          <div>\n            <p className=\"text-xs uppercase tracking-wide text-muted-foreground\">Today</p>\n            <p className=\"text-lg font-semibold\">Tuesday, 7 October 2025</p>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <Button variant=\"ghost\">Support</Button>\n            <Button>Provision university</Button>\n          </div>\n        </header>\n        <main className=\"flex-1 overflow-y-auto px-6 py-10\">{children}</main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}